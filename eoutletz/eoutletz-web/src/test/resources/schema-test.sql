DROP SCHEMA PUBLIC CASCADE

CREATE TABLE user (
  id int GENERATED BY DEFAULT AS IDENTITY (START WITH 1, INCREMENT BY 1) NOT NULL,
  active char(1) DEFAULT NULL,
  baUserId varchar(255) DEFAULT 'null',
  email varchar(255) DEFAULT 'null',
  employerId varchar(255) DEFAULT 'null',
  firstName varchar(255) DEFAULT 'null',
  lastName varchar(255) DEFAULT 'null',
  payFrequency int DEFAULT -1,
  refId varchar(255) DEFAULT 'null',
  userName varchar(255) DEFAULT 'null',
  createdTime timestamp DEFAULT CURRENT_TIMESTAMP NOT NULL ,
  updatedTime timestamp DEFAULT CURRENT_TIMESTAMP NOT NULL ,
  PRIMARY KEY (id),
  UNIQUE (refId)
);

CREATE TABLE hra (
  id int GENERATED BY DEFAULT AS IDENTITY (START WITH 1, INCREMENT BY 1) NOT NULL,
  name varchar(255) DEFAULT 'null',
  createdTime timestamp DEFAULT CURRENT_TIMESTAMP NOT NULL ,
  updatedTime timestamp DEFAULT CURRENT_TIMESTAMP NOT NULL ,
  PRIMARY KEY (id)
);

CREATE TABLE user_cookie (
  id int GENERATED BY DEFAULT AS IDENTITY (START WITH 1, INCREMENT BY 1) NOT NULL,
  createdTime timestamp DEFAULT CURRENT_TIMESTAMP NOT NULL ,
  updatedTime timestamp DEFAULT CURRENT_TIMESTAMP NOT NULL ,
  cookie varchar(255) DEFAULT 'null',
  userId int DEFAULT 0,
  PRIMARY KEY (id),
  UNIQUE (cookie,userId),
  FOREIGN KEY (userId) REFERENCES user (id)
);

CREATE TABLE IF NOT EXISTS partner_alliance (
  id int GENERATED BY DEFAULT AS IDENTITY (START WITH 1, INCREMENT BY 1) NOT NULL,
  allianceId varchar(255) DEFAULT 'null',
  allianceName varchar(255) DEFAULT 'null',
  employerId varchar(255) DEFAULT 'null',
  employerName varchar(255) DEFAULT 'null',
  marketPlaceLogoUrl varchar(255) DEFAULT 'null',
  partnerLogoUrl varchar(255) DEFAULT 'null',
  createdTime timestamp DEFAULT CURRENT_TIMESTAMP NOT NULL ,
  updatedTime timestamp DEFAULT CURRENT_TIMESTAMP NOT NULL ,
  PRIMARY KEY (id),
  UNIQUE (allianceId,employerId)
);

CREATE TABLE QRTZ_JOB_DETAILS
  (
    SCHED_NAME VARCHAR(120) NOT NULL,
    JOB_NAME  VARCHAR(200) NOT NULL,
    JOB_GROUP VARCHAR(200) NOT NULL,
    DESCRIPTION VARCHAR(250) NULL,
    JOB_CLASS_NAME   VARCHAR(250) NOT NULL,
    IS_DURABLE VARCHAR(250) NOT NULL,
    IS_NONCONCURRENT VARCHAR(250) NOT NULL,
    IS_UPDATE_DATA VARCHAR(250) NOT NULL,
    REQUESTS_RECOVERY VARCHAR(250) NOT NULL,
    JOB_DATA BLOB NULL,
    PRIMARY KEY (SCHED_NAME,JOB_NAME,JOB_GROUP)
);

CREATE TABLE IF NOT EXISTS QRTZ_TRIGGERS
  (
    SCHED_NAME VARCHAR(120) NOT NULL,
    TRIGGER_NAME VARCHAR(200) NOT NULL,
    TRIGGER_GROUP VARCHAR(200) NOT NULL,
    JOB_NAME  VARCHAR(200) NOT NULL,
    JOB_GROUP VARCHAR(200) NOT NULL,
    DESCRIPTION VARCHAR(250) NULL,
    NEXT_FIRE_TIME BIGINT NULL,
    PREV_FIRE_TIME BIGINT NULL,
    PRIORITY INTEGER NULL,
    TRIGGER_STATE VARCHAR(16) NOT NULL,
    TRIGGER_TYPE VARCHAR(8) NOT NULL,
    START_TIME BIGINT NOT NULL,
    END_TIME BIGINT NULL,
    CALENDAR_NAME VARCHAR(200) NULL,
    MISFIRE_INSTR SMALLINT NULL,
    JOB_DATA BLOB NULL,
    PRIMARY KEY (SCHED_NAME,TRIGGER_NAME,TRIGGER_GROUP),
    FOREIGN KEY (SCHED_NAME,JOB_NAME,JOB_GROUP)
        REFERENCES QRTZ_JOB_DETAILS(SCHED_NAME,JOB_NAME,JOB_GROUP)
);

CREATE TABLE IF NOT EXISTS QRTZ_PAUSED_TRIGGER_GRPS
  (
    SCHED_NAME VARCHAR(120) NOT NULL,
    TRIGGER_GROUP  VARCHAR(200) NOT NULL, 
    PRIMARY KEY (SCHED_NAME,TRIGGER_GROUP)
);

CREATE TABLE IF NOT EXISTS QRTZ_CRON_TRIGGERS
  (
    SCHED_NAME VARCHAR(120) NOT NULL,
    TRIGGER_NAME VARCHAR(200) NOT NULL,
    TRIGGER_GROUP VARCHAR(200) NOT NULL,
    CRON_EXPRESSION VARCHAR(200) NOT NULL,
    TIME_ZONE_ID VARCHAR(80),
    PRIMARY KEY (SCHED_NAME,TRIGGER_NAME,TRIGGER_GROUP),
    FOREIGN KEY (SCHED_NAME,TRIGGER_NAME,TRIGGER_GROUP)
        REFERENCES QRTZ_TRIGGERS(SCHED_NAME,TRIGGER_NAME,TRIGGER_GROUP)
);